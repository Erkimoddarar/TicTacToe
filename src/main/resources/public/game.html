<!DOCTYPE HTML>

<html>
    <head>
		<title>Erkimoddarar - Game</title>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
		<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    </head>
    <body>
    	<div class='container'>
    		<h1>Tic Tac Toe</h1>
    	</div>
        <div class='container'>
            <table border="1" id="ttt">
                <tr>
                    <td height="50" width="50" align="center" id="0"></td>
                    <td height="50" width="50" align="center" id="1"></td>
                    <td height="50" width="50" align="center" id="2"></td>
                </tr>
                <tr>
                    <td height="50" width="50" align="center" id="3"></td>
                    <td height="50" width="50" align="center" id="4"></td>
                    <td height="50" width="50" align="center" id="5"></td>
                </tr>
                <tr>
                    <td height="50" width="50" align="center" id="6"></td>
                    <td height="50" width="50" align="center" id="7"></td>
                    <td height="50" width="50" align="center" id="8"></td>
                </tr>
            </table>
            <div id='score'></div>
        </div>

        <script type="text/javascript">
            $(document).ready(function() {
                $("#ttt").on("click", "td", function( event ) {
                    var number = $(this).attr('id');
                    $.ajax({
                        type: "post",
                        url: "/id",
                        data: "id=" + number
                    }).done(function(result) {
                        if (result === "X" || result === "O") {
                            $("#"+number).html(result);
                        } else {
                            $("#score").html(result);
                            for (var i = 0; i < 9; i++) {
                                $("#" + i).html("");
                            };
                        };
                        
                    });
                });
            });  
        </script>

    </body>
</html>
